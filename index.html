<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="symphony.png">
  <meta name="description" content="symphonyå…¬å¼ã‚µã‚¤ãƒˆã§ã™ã€‚">
  <title>symphony</title>
  <link rel="manifest" href="manifest.json">
  <script src="theme.js"></script>
  <style>
    :root {
      --header-bg-color: #008DBD; /* ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ */
    }

   html, body {
    margin: 0;
    padding: 0;
    max-width: 100%;
    overflow-x: hidden;
    box-sizing: border-box;
  }

  * {
    box-sizing: inherit;
  }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      background-color: #f4f4f9;
      text-align: center;
      padding-top: 100px; /* ãƒ˜ãƒƒãƒ€ãƒ¼ã®é«˜ã•åˆ†ä½™ç™½è¿½åŠ  */
    }

    header {
      background-color: var(--header-bg-color);
      color: #ffffff;
      display: flex;
      justify-content: space-between;
      align-items: left;
      padding: 1rem;
      font-size: 1.5rem;
      transition: background-color 0.3s;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
    }

    .header-left {
      margin-left: 1rem;
    }

    .header-right {
      margin-right: 1rem;
      font-size: 1rem;
    }

    .header-right a {
      color: #ffffff;
      text-decoration: none;
      margin-left: 1rem;
    }

    .greeting-container {
      margin-top: 20px;
      font-size: 1.2rem;
    }

    .date-container {
      margin-top: 10px;
      font-size: inherit;
    }
    
	/* ï¼ˆiframeï¼‰ã®ã‚¹ã‚¿ã‚¤ãƒ«èª¿æ•´ */
#news {
    text-align: center;
    padding: 30px;
    background-color: #f8f8f8;
    margin: 20px auto;
    width: 60%;
    border-radius: 10px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

/* iframe ã®ãƒ©ãƒƒãƒ—è¦ç´  */
#news-wrapper {
    width: 100%;
    max-width: 100%;
    margin: 0 auto;
    overflow: hidden;
}

/* iframe ã®ã‚¹ã‚¿ã‚¤ãƒ« */
#news-frame {
    width: 100%;
    height: 200px;
    border: none;
    scrollbar-width: none; /* Firefox ç”¨ */
    -ms-overflow-style: none; /* IE, Edge ç”¨ */
}

#news-frame::-webkit-scrollbar {
    display: none; /* Chrome, Safari ç”¨ */
}

/* ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ç‰ˆã®èª¿æ•´ */
@media (max-width: 768px) {
    #news {
        width: 90%;
        padding: 20px;
    }
}

/* ãƒœã‚¿ãƒ³ã®åŸºç¤ãƒ‡ã‚¶ã‚¤ãƒ³ */
#refresh-button {
    transition: transform 0.3s ease-in-out;
}

/* å›è»¢ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
@keyframes spin {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}
.menu-title {
  text-align: center;
  font-size: 24px;
  color: var(--header-bg-color); /* ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã®è‰² */
  margin-top: 40px;
  margin-bottom: 20px;
  font-weight: 600;
}

.mouse-particle {
  position: fixed;
  width: 8px;
  height: 8px;
  border-radius: 50%;
  pointer-events: none;
  z-index: 9999;
  opacity: 0.8;
  transform: translate(-50%, -50%);
  animation: fadeOut 0.5s ease-out forwards;
}

@keyframes fadeOut {
  0% {
    opacity: 0.8;
    transform: translate(-50%, -50%) scale(1);
  }
  100% {
    opacity: 0;
    transform: translate(-50%, -50%) scale(1.5);
  }
}


	  
  #popup-message {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: rgba(255, 255, 255, 0.95);
    color: #333;
    padding: 20px 25px;
    border-radius: 16px;
    box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
    font-size: 16px;
    z-index: 10000;
    display: none;
    border-left: 6px solid #008DBD;
    min-width: 250px;
    max-width: 300px;
    position: fixed;
  }

  #popup-close {
    position: absolute;
    top: 8px;
    right: 12px;
    font-size: 20px;
    cursor: pointer;
    color: #888;
  }

  #popup-close:hover {
    color: #f33;
  }

  canvas#cursor-canvas {
    position: fixed;
    top: 0;
    left: 0;
    pointer-events: none;
    z-index: 9999;
  }


#top-button {
  position: fixed;
  bottom: 30px;
  right: 30px;
  z-index: 999;
  background-color : var(--header-bg-color);
  color: white;
  border: none;
  padding: 12px 16px;
  border-radius: 50%;
  font-size: 20px;
  cursor: pointer;
  box-shadow: 0 4px 6px rgba(0,0,0,0.3);
  transition: opacity 0.4s ease, transform 0.4s ease;
  opacity: 0;
  pointer-events: none;
}

#top-button.show {
  opacity: 1;
  pointer-events: auto;
  transform: scale(1);
}

#top-button:hover {
  background-color: #006a91;
  transform: scale(1.1);
}

  </style>
</head>
<body>
  <header id="header">
    <div class="header-left">symphony</div>
    <div class="header-right">
      <a href="setting/">è¨­å®š</a>
    </div>
  </header>
<!-- ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹ãƒœã‚¿ãƒ³ -->
<button id="top-button" title="ãƒˆãƒƒãƒ—ã¸æˆ»ã‚‹">â–²</button>
  <div class="greeting-container" id="greeting"></div>
  <div class="date-container" id="date"></div>
<div id="popup-message">
  <span id="popup-close">&times;</span>
  <span id="popup-text"></span>
</div>
<canvas id="cursor-canvas"></canvas>

<!-- ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<section id="news">
    <div style="display: flex; justify-content: space-between; align-items: center;">
        <h2 id="news-title" style="color: #00AAFF; font-size: 22px; margin-bottom: 15px; text-align: center; flex-grow: 1;">æ–°ç€æƒ…å ±</h2>
        <div id="refresh-button" style="display: flex; align-items: center; justify-content: center; width: 40px; height: 40px; border: 2px solid #00AAFF; border-radius: 50%; cursor: pointer;">
            <!-- ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ã‚¢ã‚¤ã‚³ãƒ³ -->
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="#00AAFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="width: 24px; height: 24px;">
                <polyline points="23 4 23 10 17 10"></polyline>
                <path d="M20.49 15a9 9 0 1 1-5.38-9.94"></path>
            </svg>
        </div>
    </div>
    <div id="news-wrapper">
        <iframe id="news-frame" src="news/"></iframe>
    </div>
</section>
<h2 class="menu-title">ãƒ¡ãƒ‹ãƒ¥ãƒ¼</h2>


  <script>
function reloadIframe() {
  document.getElementById("news-frame").src += "";
}

function askUserName() {
  const savedUserName = localStorage.getItem("userName");
  const greetingElement = document.getElementById("greeting");
  const timeBasedGreeting = getTimeBasedGreeting();

  if (savedUserName) {
    greetingElement.innerText = `${savedUserName}ã•ã‚“ã€${timeBasedGreeting}`;
    return;
  }

  const userName = prompt("ã‚ãªãŸã®ãŠåå‰ã‚’æ•™ãˆã¦ãã ã•ã„:");
  if (userName) {
    greetingElement.innerText = `${userName}ã•ã‚“ã€${timeBasedGreeting}`;
    localStorage.setItem("userName", userName);
  } else {
    greetingElement.innerText = `ã‚²ã‚¹ãƒˆã•ã‚“ã€${timeBasedGreeting}`;
  }
}

function getTimeBasedGreeting() {
  const now = new Date();
  const hour = now.getHours();

  if (hour < 12) {
    return "ãŠã¯ã‚ˆã†ã”ã–ã„ã¾ã™ï¼"; // æœã®æŒ¨æ‹¶
  } else if (hour < 18) {
    return "ã“ã‚“ã«ã¡ã¯ï¼"; // æ˜¼ã®æŒ¨æ‹¶
  } else {
    return "ã“ã‚“ã°ã‚“ã¯ï¼"; // å¤œã®æŒ¨æ‹¶
  }
}

function getFormattedDate() {
  const now = new Date();
  const year = now.getFullYear();
  const month = ('0' + (now.getMonth() + 1)).slice(-2);
  const date = ('0' + now.getDate()).slice(-2);
  const dayNames = ['æ—¥', 'æœˆ', 'ç«', 'æ°´', 'æœ¨', 'é‡‘', 'åœŸ'];
  const day = dayNames[now.getDay()];
  return `${year}å¹´${month}æœˆ${date}æ—¥ï¼ˆ${day}ï¼‰`;
}

window.onload = () => {
  askUserName();
  document.getElementById("date").innerText = getFormattedDate();
};

// ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥ãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯å‹•ä½œ
document.getElementById("refresh-button").addEventListener("click", function () {
    const iframe = document.getElementById("news-frame");

    // iframeã‚’ãƒªãƒ­ãƒ¼ãƒ‰
    iframe.src = iframe.src;

    // å›è»¢ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é©ç”¨
    const refreshButton = document.getElementById("refresh-button");
    refreshButton.style.animation = "spin 1s linear"; // 1ç§’é–“å›è»¢

    // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³çµ‚äº†å¾Œã«ãƒªã‚»ãƒƒãƒˆ
    setTimeout(() => {
        refreshButton.style.animation = ""; // ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’åœæ­¢
    }, 1000); // 1ç§’å¾Œã«ãƒªã‚»ãƒƒãƒˆ
});
	  
(function() {
  // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼
  const defaultColor = "#00AAFF"; 

  // ä¿å­˜ã•ã‚ŒãŸãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã‚’å–å¾—ã—ã€é©ç”¨
  const savedThemeColor = localStorage.getItem("themeColor");
  const themeColor = savedThemeColor || defaultColor; // ä¿å­˜ã•ã‚Œã¦ã‚‹ã‚«ãƒ©ãƒ¼ãŒãªã„å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã‚«ãƒ©ãƒ¼ã‚’ä½¿ç”¨

  // ãƒ˜ãƒƒãƒ€ãƒ¼ã¨ã€Œæ–°ç€æƒ…å ±ã€éƒ¨åˆ†ã«ã‚«ãƒ©ãƒ¼ã‚’é©ç”¨
  document.documentElement.style.setProperty("--header-bg-color", themeColor);
  document.getElementById("news-title").style.color = themeColor;

  // ãƒ†ãƒ¼ãƒã‚«ãƒ©ãƒ¼ã‚’ä¿å­˜ã™ã‚‹é–¢æ•°
  window.setThemeColor = function(themeColor) {
    localStorage.setItem("themeColor", themeColor);
    document.documentElement.style.setProperty("--header-bg-color", themeColor);
    document.getElementById("news-title").style.color = themeColor;
  };
})();

	  
  const specialDays = {
    "1/1": { color: "#FFA500", message: "ğŸ ãŠæ­£æœˆãŠã‚ã§ã¨ã†ï¼" },
    "4/12": { color: "#FF69B4", message: "ğŸ’ ãƒãƒƒãƒ”ãƒ¼ãƒãƒ¬ãƒ³ã‚¿ã‚¤ãƒ³ï¼" },
    "9/2": { color: "#008DBD", message: "ğŸ‰ ã‚µã‚¤ãƒˆé–‹è¨­è¨˜å¿µæ—¥ï¼" },
    "12/24": { color: "#ADFF2F", message: "ğŸ„ ãƒ¡ãƒªãƒ¼ã‚¯ãƒªã‚¹ãƒã‚¹ã‚¤ãƒ–ï¼" },
    "12/25": { color: "#00FF00", message: "ğŸ… ãƒ¡ãƒªãƒ¼ã‚¯ãƒªã‚¹ãƒã‚¹ï¼" },
    "12/31": { color: "#0000FF", message: "ğŸ•› ã‚ˆã„ãŠå¹´ã‚’ï¼" },
  };

  function showPopupIfSpecialDay() {
    const now = new Date();
    const key = `${now.getMonth() + 1}/${now.getDate()}`;
    const special = specialDays[key];
    if (special) {
      const popup = document.getElementById("popup-message");
      const popupText = document.getElementById("popup-text");
      popupText.textContent = special.message;
      popup.style.borderLeft = `6px solid ${special.color}`;
      popup.style.display = "block";

      // âœ•ãƒœã‚¿ãƒ³ã§é–‰ã˜ã‚‹
      document.getElementById("popup-close").onclick = () => {
        popup.style.display = "none";
      };

      // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«èµ·å‹•
      startParticles(special.color);
    }
  }

  // ãƒ‘ãƒ¼ãƒ†ã‚£ã‚¯ãƒ«ï¼ˆcanvasï¼‰
  function startParticles(color) {
    const canvas = document.getElementById("cursor-canvas");
    const ctx = canvas.getContext("2d");
    let particles = [];

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    resizeCanvas();
    window.addEventListener("resize", resizeCanvas);

    document.addEventListener("mousemove", function (e) {
      for (let i = 0; i < 4; i++) {
        particles.push({
          x: e.clientX,
          y: e.clientY,
          size: Math.random() * 3 + 2,
          speedX: (Math.random() - 0.5) * 2,
          speedY: (Math.random() - 0.5) * 2,
          alpha: 1,
        });
      }
    });

    function animateParticles() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      for (let i = 0; i < particles.length; i++) {
        const p = particles[i];
        ctx.beginPath();
        ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
        ctx.fillStyle = color + Math.floor(p.alpha * 255).toString(16).padStart(2, "0");
        ctx.fill();
        p.x += p.speedX;
        p.y += p.speedY;
        p.alpha -= 0.02;
        if (p.alpha <= 0) {
          particles.splice(i, 1);
          i--;
        }
      }
      requestAnimationFrame(animateParticles);
    }

    animateParticles();
  }

  // èµ·å‹•
  window.addEventListener("DOMContentLoaded", showPopupIfSpecialDay);


	  
const particleColorsByDate = {
  "1/1": "orange",
  "2/14": "pink",
  "4/12": "#008DBD",
  "12/24": "lightgreen",
  "12/25": "green",
  "12/31": "blue"
};

const today = new Date();
const formattedDate = `${today.getMonth() + 1}/${today.getDate()}`;
const particleColor = particleColorsByDate[formattedDate] || null;

if (particleColor) {
  document.addEventListener("mousemove", function(e) {
    const particle = document.createElement("div");
    particle.className = "mouse-particle";
    particle.style.left = e.clientX + "px";
    particle.style.top = e.clientY + "px";
    particle.style.background = particleColor;
    document.body.appendChild(particle);

    setTimeout(() => {
      particle.remove();
    }, 500);
  });
}

	  
const topButton = document.getElementById("top-button");

// ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ç›£è¦–
window.addEventListener("scroll", () => {
  if (window.scrollY > 300) {
    topButton.classList.add("show");
  } else {
    topButton.classList.remove("show");
  }
});

// ã‚¯ãƒªãƒƒã‚¯ã§ä¸Šã¸
topButton.addEventListener("click", () => {
  window.scrollTo({ top: 0, behavior: "smooth" });
});

  </script>
</body>
</html>
