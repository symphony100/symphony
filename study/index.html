<!doctype html>
<html lang="ja">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
<link rel="icon" type="image/x-icon" href="icon.png">
<meta name="keywords" content="アプリ,学習,暗記,エンタメ,ウェブサイト">
<meta name="description" content="あなたの毎日を変える。学習、生産性、エンタメなど多様なウェブサイトを掲示。">
<meta property="og:title" content="App Garden">
<meta property="og:description" content="あなたの毎日を変える。学習、生産性、エンタメなど多様なウェブサイトを掲示。">
<meta property="og:image" content="https://symphony100.github.io/symphony/study/icon.png">
<meta property="og:url" content="https://symphony100.github.io/symphony/study/">
<meta property="og:type" content="website">
<title>App Garden</title>
<link rel="manifest" href="manifest.json">
<style>
:root{
  --bg:#f7f8fb;
  --card:#ffffff;
  --muted:#6b7280;
  --accent:#0a84ff;
  --google-accent:#4285f4;
  --text:#111827;
  --card-contrast:#ffffff;
  --radius:16px;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Noto Sans JP","Yu Gothic",sans-serif;
}

/* ダークテーマ用変数は body.dark に割り当てる */
body.dark{
  --bg:#0b0b0b;
  --card:#1e1e1e;
  --muted:#9aa3b2;
  --accent:#60a5fa;
  --google-accent:#3b82f6;
  --text:#e6eef8;
  --card-contrast:#1e1e1e;
}

html,body{height:100%;margin:0}
body{
  background:linear-gradient(180deg,var(--bg),#eef2fb 60%);
  color:var(--text);
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
  transition:background .25s ease,color .25s ease;
}

header{
  display:flex;align-items:center;justify-content:space-between;
  padding:20px 28px;position:sticky;top:0;backdrop-filter:blur(6px);
  background:rgba(255,255,255,0.6);border-bottom:1px solid rgba(15,23,42,0.04);
  z-index:10;
}
  


body.dark header{
  background:rgba(20,20,20,0.6);
  border-bottom:1px solid rgba(255,255,255,0.04);
}
.brand{display:flex;align-items:center;gap:12px}
.logo{width:44px;height:44px;border-radius:10px;display:flex;align-items:center;justify-content:center;box-shadow:0 6px 18px rgba(10,20,60,0.08);background:linear-gradient(135deg,var(--accent),var(--google-accent));color:white;font-weight:700;font-size:18px}
h1{font-size:18px;margin:0}
.wrap{max-width:1100px;margin:28px auto;padding:0 18px}
.filters{display:flex;gap:12px;flex-wrap:wrap;margin-bottom:18px}
.pill{background:var(--card);padding:8px 12px;border-radius:999px;box-shadow:0 6px 18px rgba(12,20,40,0.04);cursor:pointer;font-size:13px;transition:all .2s ease;color:var(--text)}
.pill.active{outline:2px solid rgba(10,132,255,0.12);background:linear-gradient(90deg,#e0f2fe,#e0e7ff)}
.pill:hover{transform:translateY(-2px)}

.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:18px}
.card{background:var(--card);border-radius:14px;padding:14px;box-shadow:0 8px 24px rgba(15,23,42,0.06);transition:transform .25s ease,box-shadow .25s ease,background .25s ease;color:var(--text);cursor:pointer;display:flex;gap:12px;align-items:flex-start}
body.dark .card{box-shadow:0 8px 24px rgba(0,0,0,0.6)}
.card:hover{transform:translateY(-6px) scale(1.02);box-shadow:0 12px 30px rgba(15,23,42,0.1)}
.icon{width:64px;height:64px;border-radius:14px;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-weight:700;color:white;overflow:hidden}
.icon img{width:100%;height:100%;object-fit:cover;border-radius:14px;display:block}
.meta{flex:1}
.title{font-weight:600;margin:0 0 6px 0}
.desc{color:var(--muted);font-size:13px;margin:0 0 10px 0}
.badges{display:flex;gap:8px;flex-wrap:wrap}
.badge{font-size:12px;padding:6px 8px;border-radius:999px;background:linear-gradient(90deg,rgba(66,133,244,0.08),rgba(10,132,255,0.06));color:var(--google-accent)}
.rating{font-size:13px;color:var(--muted)}

/* モーダル */
.modal{position:fixed;inset:0;background:rgba(10,12,20,0.36);display:none;align-items:center;justify-content:center;padding:32px;z-index:40;backdrop-filter:blur(4px)}
.modal.open{display:flex}
.modal-card{width:100%;max-width:920px;border-radius:16px;background:var(--card);padding:20px;box-shadow:0 30px 80px rgba(2,6,23,0.45);display:grid;grid-template-columns:240px 1fr;gap:20px;transition:background .25s ease}
@media(max-width:880px){.modal-card{grid-template-columns:1fr}.icon{width:56px;height:56px}}
footer{max-width:1100px;margin:28px auto;color:var(--muted);font-size:13px;padding:0 18px 80px;text-align:center}

/* 認証ボタン & ボタン共通 */
.auth-btn{
  background:linear-gradient(90deg,var(--accent),var(--google-accent));
  color:white;border:0;border-radius:12px;padding:10px 16px;font-weight:600;cursor:pointer;transition:all .25s ease;
}
.auth-btn:hover{transform:scale(1.05);filter:brightness(1.1)}
.btn{padding:10px 14px;border-radius:12px;border:0;cursor:pointer;font-weight:600;text-decoration:none;display:inline-block;text-align:center;min-width:120px}
.btn.primary{background:linear-gradient(90deg,var(--accent),var(--google-accent));color:white;transition:all .25s ease;border:0}
.btn.ghost{background:transparent;border:1px solid rgba(10,20,40,0.06);color:var(--text)}
.btn:hover{transform:translateY(-2px)}
/* 上記のキャンセル/送信のデザインは消してない（保持） */

/* 認証コードモーダル */
.code-modal{position:fixed;inset:0;background:rgba(10,12,20,0.36);display:none;align-items:center;justify-content:center;padding:32px;z-index:50;backdrop-filter:blur(4px)}
.code-modal.open{display:flex}
.code-card{width:100%;max-width:420px;border-radius:16px;background:var(--card);padding:20px;box-shadow:0 20px 60px rgba(2,6,23,0.25);text-align:center;transition:background .25s ease}
.code-input{display:block;width:200px;margin:12px auto;padding:10px;border-radius:8px;border:1px solid rgba(0,0,0,0.08);font-size:16px;letter-spacing:6px;text-align:center}
.code-hint{color:red;font-size:13px;margin-bottom:10px;display:none}

/* 設定メニュー（Aボタン） */
.settings-menu{
  display:none;position:absolute;top:50px;right:0;background:var(--card);border-radius:12px;box-shadow:0 8px 24px rgba(15,23,42,0.1);padding:10px;width:200px;z-index:60;transition:background .25s ease
}
.settings-row{display:flex;align-items:center;justify-content:space-between;padding:8px 6px}
.settings-item{display:block;width:100%;padding:8px 10px;border-radius:8px;cursor:pointer;transition:all .2s ease;font-size:14px;color:var(--muted);background:transparent;border:none;text-align:left}
.settings-item:hover{background:linear-gradient(90deg,#e0f2fe,#e0e7ff);color:var(--accent)}

/* 設定モーダル */
.settings-modal{position:fixed;inset:0;background:rgba(10,12,20,0.36);display:none;align-items:center;justify-content:center;padding:32px;z-index:70;backdrop-filter:blur(4px)}
.settings-modal.open{display:flex}
.settings-card{width:100%;max-width:480px;border-radius:12px;background:var(--card);padding:18px;box-shadow:0 20px 60px rgba(2,6,23,0.25);text-align:left;transition:background .25s ease}
.switch{display:inline-flex;align-items:center;gap:8px}
.switch input[type="checkbox"]{width:40px;height:22px;appearance:none;background:#ddd;border-radius:999px;position:relative;outline:none;cursor:pointer;transition:background .2s}
.switch input[type="checkbox"]::after{content:'';width:18px;height:18px;background:white;border-radius:50%;position:absolute;left:2px;top:2px;transition:transform .2s}
.switch input[type="checkbox"]:checked{background:linear-gradient(90deg,var(--accent),var(--google-accent))}
.switch input[type="checkbox"]:checked::after{transform:translateX(18px)}

/* 確認モーダル */
.confirm-modal{position:fixed;inset:0;background:rgba(10,12,20,0.36);display:none;align-items:center;justify-content:center;padding:32px;z-index:80;backdrop-filter:blur(4px)}
.confirm-modal.open{display:flex}
.confirm-card{width:100%;max-width:420px;border-radius:12px;background:var(--card);padding:18px;box-shadow:0 20px 60px rgba(2,6,23,0.25);text-align:center;transition:background .25s ease}

.auth-msg{position:fixed;bottom:24px;right:24px;background:linear-gradient(90deg,#edf2ff,#e0f7ff);color:#0a3b5a;padding:10px 14px;border-radius:10px;box-shadow:0 8px 20px rgba(2,6,23,0.08);display:none;font-weight:600;z-index:90}
  

  
  
/* --- カード出現アニメーション --- */
@keyframes fadeUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* grid が描画されるときのアニメーション効果 */
.grid.show .card {
  animation: fadeUp 0.5s ease forwards;
}

/* すべてのカードを一気に “ほわっ” と出す */
.grid.show {
  opacity: 0;
  animation: fadeUp 0.6s ease forwards;
}
  
  .logo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  border-radius: 10px;
  display: block;
}


</style>
</head>
<body>
<header>
  <div class="brand">
    <div class="logo">
        <img src="https://symphony100.github.io/symphony/study/icon.png" alt="App Garden ロゴ">
    </div>
    <div>
      <h1>App Garden</h1>
      <div style="font-size:12px;color:var(--muted)">アプリ一覧</div>
    </div>
  </div>

  <div style="display:flex;align-items:center;gap:12px;position:relative">
    <button class="auth-btn" id="authBtn">追加</button>

    <div style="position:relative" class="account-wrapper">
      <div id="accountBtn" style="width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--google-accent));display:flex;align-items:center;justify-content:center;color:white;font-weight:700;cursor:pointer;">
        A
      </div>

      <!-- アカウント設定小メニュー（ゲスト + 設定ボタン） -->
      <div id="settingsMenu" class="settings-menu" aria-hidden="true">
        <div style="font-weight:600;margin-bottom:8px;color:var(--text)">アカウント</div>
        <button class="settings-item" id="guestBtn" aria-label="ゲスト">ゲスト</button>
        <button class="settings-item" id="openSettingsBtn" aria-label="設定">設定</button>
      </div>
    </div>
  </div>
</header>

<div class="auth-msg" id="authMsg"></div>

<main class="wrap">
  <div id="notice" style="background:linear-gradient(90deg,#e0f2fe,#eef2fb);padding:8px 12px;border-radius:12px;margin-bottom:12px;font-size:14px;color:#0a3b5a;text-align:center;">
    百人一首が追加されました！認証コードを入力し、アプリを入手！
  </div>

  <div class="filters">
    <div class="pill active" data-filter="all">すべて</div>
    <div class="pill" data-filter="ios">iOS</div>
    <div class="pill" data-filter="android">Android</div>
    <div class="pill" data-filter="productivity">生産性</div>
    <div class="pill" data-filter="photo">写真・動画</div>
    <div class="pill" data-filter="game">ゲーム</div>
    <div class="pill" data-filter="education">教育</div>
  </div>

  <div class="grid" id="grid"></div>
</main>

<!-- 詳細モーダル -->
<div class="modal" id="modal">
  <div class="modal-card">
    <div>
      <div class="icon" id="modalIcon"></div>
      <div style="height:8px"></div>
    </div>
    <div>
      <h2 id="modalTitle"></h2>
      <p id="modalDesc" style="color:var(--muted)"></p>
      <div id="modalBadges" class="badges" style="margin-top:10px"></div>
      <div id="modalPlatform" style="margin-top:8px;color:var(--muted);font-size:13px"></div>
      <div id="modalRating" class="rating" style="margin-top:6px"></div>
      <div style="margin-top:12px;display:flex;gap:10px;flex-wrap:wrap">
        <a href="#" class="btn primary" id="pcBtn" target="_blank">PC版</a>
        <a href="#" class="btn primary" id="mobileBtn" target="_blank">スマートフォン版</a>
        <button class="btn ghost" id="closeBtn">閉じる</button>
      </div>
    </div>
  </div>
</div>

<!-- 認証コードモーダル -->
<div class="code-modal" id="codeModal">
  <div class="code-card">
    <h3 style="margin-top:0">認証コード</h3>
    <p style="color:var(--muted);font-size:13px;margin:6px 0 8px 0">6桁のコードを入力してください。</p>
    <div class="code-hint" id="codeHint"></div>
    <input id="authCodeInput" class="code-input" maxlength="6" inputmode="numeric" pattern="[0-9]*" placeholder="●●●●●●" />
    <div style="display:flex;gap:10px;justify-content:center;margin-top:14px">
      <button class="btn primary" id="submitAuthBtn">送信</button>
      <button class="btn ghost" id="closeAuthBtn">キャンセル</button>
    </div>
  </div>
</div>

<!-- 設定モーダル -->
<div class="settings-modal" id="settingsModal" aria-hidden="true">
  <div class="settings-card">
    <h3 style="margin-top:0">設定</h3>
    <div style="margin-top:12px" class="settings-row">
      <div style="font-weight:600">テーマ</div>
      <label class="switch">
        <input type="checkbox" id="themeToggle" />
      </label>
    </div>
    <div style="margin-top:14px" class="settings-row">
      <div style="font-weight:600">初期化</div>
      <button class="btn ghost" id="initBtn">初期化する</button>
    </div>
    <div style="margin-top:18px;display:flex;gap:8px;justify-content:flex-end">
      <button class="btn ghost" id="settingsClose">閉じる</button>
    </div>
  </div>
</div>

<!-- 確認モーダル（初期化） -->
<div class="confirm-modal" id="confirmModal">
  <div class="confirm-card">
    <h3 style="margin-top:0">本当に初期化する？</h3>
    <p style="color:var(--muted);margin-top:8px">保存されているアプリ一覧が初期状態に戻ります。元に戻せません。</p>
    <div style="margin-top:18px;display:flex;gap:8px;justify-content:center">
      <button class="btn ghost" id="confirmCancel">キャンセル</button>
      <button class="btn primary" id="confirmExec">実行</button>
    </div>
  </div>
</div>

<footer>© App Garden</footer>

<script>
/* --- データ --- */
const appsDefault = [
  {id:1,name:'SkyMap',platform:'ios',category:'education',desc:'星座を観測・記録するためのアプリ。',rating:4.8,iconText:'SM',color:'#6EE7B7',badges:['おすすめ','無料'],pcLink:'#',mobileLink:'#'},
  {id:2,name:'Pixel Studio',platform:'android',category:'photo',desc:'直感的な写真編集ツール。',rating:4.4,iconImg:'images/pixel.png',color:'#FFD166',badges:['有料','プロ向け'],pcLink:'#',mobileLink:'#'},
  {id:3,name:'FocusFlow',platform:'ios',category:'productivity',desc:'集中タイマーとタスク管理を統合。',rating:4.7,iconImg:'images/focus.png',color:'#A78BFA',badges:['人気','セール中'],pcLink:'#',mobileLink:'#'},
  {id:4,name:'Neon Drift',platform:'android',category:'game',desc:'爽快なレーシングゲーム。',rating:4.2,iconImg:'images/drift.png',color:'#FF6B6B',badges:['無料','おすすめ'],pcLink:'#',mobileLink:'#'}
];

const authMap = {
  '112233': {id:5,name:'百人一首',platform:'ios',category:'education',desc:'百人一首を楽しめるアプリ。',rating:4.5,iconText:'HY',color:'#FBBF24',badges:['無料','人気'],pcLink:'#',mobileLink:'#'},
  '123456': {id:6,name:'暗記マスター',platform:'android',category:'education',desc:'効率的に暗記できるアプリ。',rating:4.6,iconImg:'images/anki.png',color:'#34D399',badges:['無料','人気'],pcLink:'#',mobileLink:'#'}
};

let apps = [];

/* --- DOM --- */
const grid = document.getElementById('grid');
const modal = document.getElementById('modal');
const modalTitle = document.getElementById('modalTitle');
const modalDesc = document.getElementById('modalDesc');
const modalIcon = document.getElementById('modalIcon');
const modalBadges = document.getElementById('modalBadges');
const modalPlatform = document.getElementById('modalPlatform');
const modalRating = document.getElementById('modalRating');
const pcBtn = document.getElementById('pcBtn');
const mobileBtn = document.getElementById('mobileBtn');
const authBtn = document.getElementById('authBtn');
const codeModal = document.getElementById('codeModal');
const authCodeInput = document.getElementById('authCodeInput');
const submitAuthBtn = document.getElementById('submitAuthBtn');
const closeAuthBtn = document.getElementById('closeAuthBtn');
const codeHint = document.getElementById('codeHint');
const authMsg = document.getElementById('authMsg');
const accountBtn = document.getElementById('accountBtn');
const settingsMenu = document.getElementById('settingsMenu');
const guestBtn = document.getElementById('guestBtn');
const openSettingsBtn = document.getElementById('openSettingsBtn');
const settingsModal = document.getElementById('settingsModal');
const settingsClose = document.getElementById('settingsClose');
const themeToggle = document.getElementById('themeToggle');
const initBtn = document.getElementById('initBtn');
const confirmModal = document.getElementById('confirmModal');
const confirmCancel = document.getElementById('confirmCancel');
const confirmExec = document.getElementById('confirmExec');

/* --- ローカル保存 --- */
function saveApps(){ localStorage.setItem('appGardenApps', JSON.stringify(apps)); }
function loadApps(){
  const stored = localStorage.getItem('appGardenApps');
  if(stored){ apps.splice(0, apps.length, ...JSON.parse(stored)); }
  else { apps.splice(0, apps.length, ...appsDefault); }
}

/* --- テーマ --- */
const THEME_KEY = 'appGardenTheme';
function applySavedTheme(){
  const t = localStorage.getItem(THEME_KEY) || 'light';
  if(t === 'dark'){ document.body.classList.add('dark'); themeToggle.checked = true; }
  else { document.body.classList.remove('dark'); themeToggle.checked = false; }
}
function toggleTheme(isDark){
  if(isDark){ document.body.classList.add('dark'); localStorage.setItem(THEME_KEY,'dark'); }
  else { document.body.classList.remove('dark'); localStorage.setItem(THEME_KEY,'light'); }
}

/* --- 描画 --- */
function render(list){
  grid.innerHTML = '';
  list.forEach((app, i)=>{
    const c = document.createElement('div');
    c.className = 'card';
      grid.classList.remove('show');
  setTimeout(() => grid.classList.add('show'), 50);
    
    c.innerHTML = `
      <div class="icon" style="background:${app.color}">
        ${app.iconImg ? `<img src="${app.iconImg}" alt="${escapeHtml(app.name)}">`
        : (app.iconText ? escapeHtml(app.iconText) : '★')}
      </div>
      <div class="meta">
        <h3 class="title">${escapeHtml(app.name)}</h3>
        <p class="desc">${escapeHtml(app.desc)}</p>
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div class="badges">${(app.badges||[]).map(b=>`<span class="badge">${escapeHtml(b)}</span>`).join('')}</div>
          <div class="rating">★ ${Number(app.rating||0).toFixed(1)}</div>
        </div>
      </div>`;
    c.addEventListener('click', ()=> openModal(app));
    grid.appendChild(c);
  });
}

/* --- モーダル --- */
function openModal(app){
  modalTitle.textContent = app.name;
  modalDesc.textContent = app.desc;
  modalBadges.innerHTML = (app.badges||[]).map(b=>`<span class="badge">${escapeHtml(b)}</span>`).join('');
  modalPlatform.textContent = app.platform === 'ios' ? 'iOS' : 'Android';
  modalRating.textContent = `★ ${Number(app.rating||0).toFixed(1)}`;
  if(app.iconImg){
    modalIcon.innerHTML = `<img src="${app.iconImg}" alt="${escapeHtml(app.name)}">`;
    modalIcon.style.background = 'transparent';
  } else {
    modalIcon.textContent = app.iconText || '★';
    modalIcon.style.background = app.color || 'transparent';
  }
  pcBtn.href = app.pcLink || '#';
  mobileBtn.href = app.mobileLink || '#';
  modal.classList.add('open');
}
document.getElementById('closeBtn').addEventListener('click', ()=> modal.classList.remove('open'));
modal.addEventListener('click', e=>{ if(e.target===modal) modal.classList.remove('open'); });

/* --- フィルタ --- */
document.querySelectorAll('.pill[data-filter]').forEach(p=>{
  p.addEventListener('click', ()=>{
    document.querySelectorAll('.pill').forEach(x=>x.classList.remove('active'));
    p.classList.add('active');
    applyFilters();
  });
});
function applyFilters(){
  const active = document.querySelector('.pill.active').dataset.filter;
  let list = apps.slice();
  if(active !== 'all') list = list.filter(a=> a.platform === active || a.category === active);
  render(list);
}

/* --- 認証コード --- */
authBtn.addEventListener('click', ()=> {
  codeModal.classList.add('open');
  codeHint.style.display = 'none';
  authCodeInput.value = '';
  authCodeInput.focus();
});
closeAuthBtn.addEventListener('click', ()=> codeModal.classList.remove('open'));
authCodeInput.addEventListener('keydown', e=>{ if(e.key==='Enter') submitAuthBtn.click(); });

submitAuthBtn.addEventListener('click', ()=> {
  const code = authCodeInput.value.trim();
  if(!/^\d{6}$/.test(code)){
    codeHint.textContent = '6桁の数字を入力してください。';
    codeHint.style.display = 'block';
    return;
  }
  if(authMap.hasOwnProperty(code)){
    const appToAdd = authMap[code];
    if(apps.some(a=>a.id===appToAdd.id)){
      codeHint.textContent = 'このアプリは既に追加されています。';
      codeHint.style.display = 'block';
    } else {
      apps.push(appToAdd);
      saveApps();
      applyFilters();
      codeModal.classList.remove('open');
      showAuthMessage(`id:${appToAdd.id} のアプリが追加されました！`);
    }
  } else {
    codeHint.textContent = '無効な認証コードです。';
    codeHint.style.display = 'block';
  }
});

/* --- 通知 --- */
function showAuthMessage(text){
  authMsg.textContent = text;
  authMsg.style.display = 'block';
  setTimeout(()=> authMsg.style.display='none', 4000);
}

/* --- アカウント設定 --- */
accountBtn.addEventListener('click', e=>{
  e.stopPropagation();
  settingsMenu.style.display = settingsMenu.style.display==='block'?'none':'block';
});
guestBtn.addEventListener('click', ()=>{
  showAuthMessage('ゲストモードで閲覧中');
  settingsMenu.style.display = 'none';
});
openSettingsBtn.addEventListener('click', ()=>{
  settingsMenu.style.display = 'none';
  settingsModal.classList.add('open');
  settingsModal.setAttribute('aria-hidden','false');
});
window.addEventListener('click', e=>{
  if(!accountBtn.contains(e.target) && !settingsMenu.contains(e.target)) settingsMenu.style.display='none';
});

/* --- 設定 --- */
settingsClose.addEventListener('click', ()=>{
  settingsModal.classList.remove('open');
  settingsModal.setAttribute('aria-hidden','true');
});
themeToggle.addEventListener('change', e=> toggleTheme(e.target.checked));
initBtn.addEventListener('click', ()=> confirmModal.classList.add('open'));
confirmCancel.addEventListener('click', ()=> confirmModal.classList.remove('open'));
confirmExec.addEventListener('click', ()=>{
  localStorage.removeItem('appGardenApps');
  loadApps();
  applyFilters();
  confirmModal.classList.remove('open');
  settingsModal.classList.remove('open');
  showAuthMessage('データを初期化しました');
});

/* --- ユーティリティ --- */
function escapeHtml(s){
  if(!s && s!==0) return '';
  return String(s).replace(/[&<>"']/g, m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
}

/* --- 初期化 --- */
function init(){
  applySavedTheme();
  loadApps();
  applyFilters();
}
init();

document.addEventListener('keydown', e=>{
  if(e.key==='Escape'){
    [codeModal, modal, settingsModal, confirmModal].forEach(m=>m.classList.remove('open'));
  }
});
  
  
  
  
  

</script>
</body>
</html>

